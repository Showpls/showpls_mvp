# Showpls - Настройка для заблокированных регионов

## Проблема: t.me заблокирован (ERR_BLOCKED_BY_RESPONSE)

Если у вас заблокирован доступ к Telegram, мы можем протестировать все функции Showpls локально без внешних зависимостей.

## Решения для тестирования

### 1. Локальное тестирование без Telegram
Showpls спроектирован так, чтобы работать независимо от Telegram для основных функций:

```bash
# Запуск в режиме разработки (Telegram функции отключены)
npm run dev
```

Сообщения в консоли:
- `TELEGRAM_BOT_TOKEN not set - Telegram functionality will be disabled`
- `TON_PLATFORM_WALLET not set - TON functionality will be limited`

### 2. Мокирование Telegram данных
Создам тестовые эндпоинты для симуляции Telegram аутентификации:

```javascript
// Тестовые пользователи для локальной разработки
const testUsers = [
  {
    id: "123456789",
    first_name: "Тест",
    last_name: "Заказчик", 
    username: "test_customer",
    language_code: "ru"
  },
  {
    id: "987654321",
    first_name: "Тест",
    last_name: "Исполнитель",
    username: "test_provider", 
    language_code: "ru"
  }
];
```

### 3. Альтернативы для Telegram

#### VPN решения (если разрешено)
- Proton VPN (бесплатный)
- Windscribe (10GB бесплатно)
- TunnelBear (500MB бесплатно)

#### Telegram Desktop с прокси
1. Скачайте Telegram Desktop
2. Настройте SOCKS5 прокси в настройках
3. Используйте публичные прокси-сервера

#### Telegram Web без VPN
- Попробуйте web.telegram.org
- Или telegram.org/apps для других клиентов

### 4. Полное локальное тестирование

Мы можем создать полный тестовый сценарий без внешних сервисов:

#### Тестирование UI компонентов
```bash
# Откройте браузер на localhost:5000
# Landing page доступен по /
# Web App интерфейс по /twa  
# Чат интерфейс по /chat/demo
```

#### Тестирование API безопасности
```bash
# Проверка аутентификации
curl -X POST http://localhost:5000/api/auth/telegram -d '{}'

# Проверка rate limiting
for i in {1..15}; do curl http://localhost:5000/health & done

# Проверка идемпотентности
curl -X POST http://localhost:5000/api/orders -d '{"test": true}'
```

#### Тестирование WebSocket
```javascript
// Подключение к WebSocket в браузере
const ws = new WebSocket('ws://localhost:5000/ws');
ws.onopen = () => console.log('Подключено');
ws.onmessage = (msg) => console.log('Сообщение:', msg.data);
```

## Настройка тестового окружения

### 1. Создание тестовых данных
Добавлю специальный режим разработки с предзаполненными данными:

- Тестовые пользователи
- Образцы заказов
- Демонстрационные чаты
- Виртуальные TON балансы

### 2. Обход Telegram аутентификации
Создам девелоперский режим где:
- Аутентификация работает с тестовыми токенами
- WebSocket подключения разрешены локально
- Все функции доступны без внешних API

### 3. Локальная симуляция TON
- Виртуальные кошельки для тестирования
- Симуляция транзакций
- Тестовая сеть без реальных средств

## Преимущества локального тестирования

✅ **Полный контроль**: Все процессы под вашим контролем
✅ **Быстрое тестирование**: Без задержек внешних API
✅ **Безопасность**: Никаких реальных средств или данных
✅ **Отладка**: Полная видимость всех операций
✅ **Автономность**: Работает без интернет-соединения

## Следующие шаги

1. Настрою полностью автономный тестовый режим
2. Создам предзаполненные демо-данные
3. Добавлю симуляцию всех Telegram функций
4. Предоставлю подробные инструкции по тестированию

Хотите, чтобы я настроил полностью автономное тестовое окружение прямо сейчас?